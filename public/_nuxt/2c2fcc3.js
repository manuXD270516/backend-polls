(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{134:function(t,e,r){"use strict";var n=r(25),o=(r(89),r(91)),c=r.n(o).a.create({baseURL:"http://testing.nannys.com.bo:3004/api",headers:{Authorization:"Bearer "+localStorage.getItem("authToken")}});e.a={login:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.post("session/authenticate/3",{Username:t.Username,Password:t.Password});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()},auth:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("session/verify/"+t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()},logout:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.post("/session/logout/"+t.userWithRoles.UserId+"?tokenSession="+t.tokenSession);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()}}},283:function(t,e,r){var content=r(358);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(18).default)("48517564",content,!0,{sourceMap:!1})},285:function(t,e,r){var content=r(364);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(18).default)("369775ff",content,!0,{sourceMap:!1})},286:function(t,e,r){var content=r(366);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(18).default)("56b15182",content,!0,{sourceMap:!1})},297:function(t,e,r){"use strict";r(7),r(9),r(12),r(4),r(15),r(8),r(16);var n=r(2),o=(r(26),r(60),r(73));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={name:"TodoItem",data:function(){return{clipped:!1,drawer:!1,fixed:!1,items:[{icon:"mdi-home",title:"Inicio",to:"/",active:!0},{icon:"mdi-face-woman",title:"Nannys",to:"/nannys"},{icon:"mdi-account-hard-hat",title:"Colaboradores",items:[{icon:"mdi-account-supervisor-outline",title:"Colaboradores",to:"/employees"},{icon:"mdi-account-plus-outline",title:"Agregar Nuevo",to:"/employees/register-employee"}]},{icon:"mdi-human-male-female",title:"Padres",items:[{icon:"mdi-account-supervisor-outline",title:"Padres",to:"/parents"},{icon:"mdi-account-plus-outline",title:"Agregar Nuevo",to:"/parents/register-parent"}]},{icon:"mdi-briefcase",title:"Servicios",items:[{icon:"mdi-calendar-clock",title:"Programadas",to:"/services/programmed"},{icon:"mdi-calendar-check",title:"Urgentes",to:"/services/urgent"},{icon:"mdi-calendar-month",title:"Mensualizadas",to:"/services/monthly"}]}],miniVariant:!1,right:!0,rightDrawer:!1,title:"NANNYS APP"}},computed:l(l({userInitial:function(){return this.user.userWithRoles.Username.charAt(0)},username:function(){return this.user.userWithRoles.Username}},Object(o.c)("user",["isAuthenticated"])),Object(o.d)("user",["user"])),methods:l({back:function(){this.$router.go(-1),console.log("retrocedío")},openLogin:function(){this.$router.push({name:"login"})},closed:function(){var t=this;this.overlay=!0,this.logout(this.user).then((function(e){t.overlay=!1,localStorage.removeItem("userId"),localStorage.removeItem("authToken"),t.$router.replace({name:"login"}),console.log(e.data)})).catch((function(t){console.log(t.response.data)}))}},Object(o.b)("user",["logout"]))},m=(r(365),r(76)),v=r(138),f=r.n(v),h=r(447),_=r(453),x=r(448),y=r(205),w=r(219),I=r(436),O=r(454),A=r(439),C=r(449),k=r(204),S=r(207),j=r(208),E=r(133),R=r(68),N=r(211),V=r(113),P=r(450),U=r(440),L=r(451),T=r(452),D=r(239),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{dark:""}},[t.isAuthenticated?r("v-navigation-drawer",{attrs:{"mini-variant":t.miniVariant,clipped:t.clipped,color:"#00A7D8",fixed:"",app:"",temporary:"",width:"300"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list",t._l(t.items,(function(e,i){return r("div",{key:i},[e.items?r("v-list-group",{attrs:{color:"#ffffff",light:"","prepend-icon":e.icon,"no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)]},proxy:!0}],null,!0)},[t._v(" "),t._l(e.items,(function(e,n){return r("v-list-item",{key:n,attrs:{to:e.to,exact:"","sub-group":""}},[r("v-list-item-icon",[r("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)}))],2):r("v-list-item-group",{attrs:{color:"#ffffff"}},[r("v-list-item",{attrs:{to:e.to,exact:"",light:""}},[r("v-list-item-icon",[r("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)],1)],1)})),0)],1):t._e(),t._v(" "),r("v-app-bar",{attrs:{"clipped-left":t.clipped,fixed:"",app:""}},[t.isAuthenticated?r("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}):t._e(),t._v(" "),r("v-btn",{attrs:{icon:""},on:{click:function(e){return t.back()}}},[r("v-icon",[t._v("mdi-chevron-left")])],1),t._v(" "),r("v-toolbar-title",{domProps:{textContent:t._s(t.title)}}),t._v(" "),r("v-spacer"),t._v(" "),t.isAuthenticated?[r("v-menu",{attrs:{bottom:"","min-width":"200px",rounded:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{icon:"","x-large":""}},n),[r("v-avatar",{attrs:{color:"primary",size:"48"}},[r("span",{staticClass:"white--text headline"},[t._v(t._s(t.userInitial))])])],1)]}}],null,!1,656113135)},[t._v(" "),r("v-card",[r("v-list-item-content",{staticClass:"justify-center"},[r("div",{staticClass:"mx-auto text-center"},[r("v-avatar",{staticClass:"mb-3",attrs:{color:"primary"}},[r("v-icon",{attrs:{dark:""}},[t._v(" mdi-account ")])],1),t._v(" "),r("p",{staticClass:"caption mt-1"},[t._v("\n                "+t._s(t.username)+"\n              ")]),t._v(" "),r("v-divider",{staticClass:"my-3"}),t._v(" "),r("v-btn",{attrs:{depressed:"",rounded:"",text:""},on:{click:t.closed}},[t._v("\n                Desconectar\n              ")])],1)])],1)],1)]:r("v-btn",{attrs:{text:""},on:{click:t.openLogin}},[t._v("Ingresar")])],2),t._v(" "),r("v-main",[r("v-container",[r("Nuxt")],1)],1),t._v(" "),r("v-footer",{attrs:{absolute:!t.fixed,app:""}},[r("span",[t._v("© "+t._s((new Date).getFullYear()))])])],1)}),[],!1,null,null,null);e.a=component.exports;f()(component,{VApp:h.a,VAppBar:_.a,VAppBarNavIcon:x.a,VAvatar:y.a,VBtn:w.a,VCard:I.a,VContainer:O.a,VDivider:A.a,VFooter:C.a,VIcon:k.a,VList:S.a,VListGroup:j.a,VListItem:E.a,VListItemContent:R.a,VListItemGroup:N.a,VListItemIcon:V.a,VListItemTitle:R.c,VMain:P.a,VMenu:U.a,VNavigationDrawer:L.a,VSpacer:T.a,VToolbarTitle:D.a})},298:function(t,e,r){"use strict";r(363);var n=r(76),component=Object(n.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Nuxt")],1)}),[],!1,null,null,null);e.a=component.exports},308:function(t,e,r){r(309),t.exports=r(310)},332:function(t,e,r){"use strict";r.r(e);r(31);var n=r(134);e.default=function(t){var e=t.store,r=t.route,o=t.redirect;return console.log("USUARIO AUTENTICADO: "+e.getters["user/isAuthenticated"]),e.getters["user/isAuthenticated"]&&localStorage.getItem("userId")&&"login"===r.name?(console.log("PRIMERA SECCIÓN"),o({name:"index"})):e.getters["user/isAuthenticated"]||localStorage.getItem("userId")||"login"===r.name?void(!e.getters["user/isAuthenticated"]&&localStorage.getItem("userId")&&"login"!==r.name&&(console.log("TERCERA SECCIÓN"),n.a.auth(localStorage.userId).then((function(t){e.dispatch("user/setUser",t.data),"login"===r.name&&o({name:"index"}),console.log("CONSULTA EXITOSA, TERCERA SECCIÓN")})).catch((function(){e.dispatch("user/setUser",!1),localStorage.removeItem("userId"),localStorage.removeItem("authToken"),o({name:"login"}),console.log("ERROR EN LA CONSULTA, TERCERA SECCIÓN")})))):(console.log("SEGUNDA SECCIÓN"),o({name:"login"}))}},357:function(t,e,r){"use strict";r(283)},358:function(t,e,r){var n=r(17)(!1);n.push([t.i,"h1[data-v-6ffeedc3]{font-size:20px}",""]),t.exports=n},363:function(t,e,r){"use strict";r(285)},364:function(t,e,r){var n=r(17)(!1);n.push([t.i,".main-alert{position:fixed;top:0;left:0;z-index:1000;width:100%;border-radius:0!important}",""]),t.exports=n},365:function(t,e,r){"use strict";r(286)},366:function(t,e,r){var n=r(17)(!1);n.push([t.i,"#content{padding:30px 0}.main-alert{position:fixed;top:64px;left:0;z-index:1000;width:100%;border-radius:0!important}",""]),t.exports=n},431:function(t,e,r){"use strict";r.r(e),r.d(e,"state",(function(){return c})),r.d(e,"getters",(function(){return l})),r.d(e,"mutations",(function(){return d})),r.d(e,"actions",(function(){return m}));var n=r(25),o=(r(89),r(7),r(134)),c=function(){return{user:{}}},l={isAuthenticated:function(t){return Object.keys(t.user).length>0}},d={setUser:function(t,e){t.user=e}},m={login:function(t,e){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.commit,r.next=3,o.a.login(e);case 3:return c=r.sent,r.next=6,n("setUser",c.data);case 6:return r.abrupt("return",c);case 7:case"end":return r.stop()}}),r)})))()},logout:function(t,e){var r=t.commit,n=o.a.logout(e);return r("setUser",!1),n},setUser:function(t,e){return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.commit,r.next=3,n("setUser",e);case 3:case"end":return r.stop()}}),r)})))()}}},87:function(t,e,r){"use strict";var n={name:"EmptyLayout",layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},o=(r(357),r(76)),c=r(138),l=r.n(c),d=r(447),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{dark:""}},[404===t.error.statusCode?r("h1",[t._v("\n    "+t._s(t.pageNotFound)+"\n  ")]):r("h1",[t._v("\n    "+t._s(t.otherError)+"\n  ")]),t._v(" "),r("NuxtLink",{attrs:{to:"/"}},[t._v(" Home page ")])],1)}),[],!1,null,"6ffeedc3",null);e.a=component.exports;l()(component,{VApp:d.a})}},[[308,31,5,32]]]);